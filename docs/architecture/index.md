# Rowing Performance Tracking Platform - Fullstack Architecture Document

## Table of Contents

- [Rowing Performance Tracking Platform - Fullstack Architecture Document](#table-of-contents)
  - [Introduction](./introduction.md)
    - [Starter Template or Existing Project](./introduction.md#starter-template-or-existing-project)
    - [Change Log](./introduction.md#change-log)
  - [High Level Architecture](./high-level-architecture.md)
    - [Technical Summary](./high-level-architecture.md#technical-summary)
    - [Platform and Infrastructure Choice](./high-level-architecture.md#platform-and-infrastructure-choice)
    - [Repository Structure](./high-level-architecture.md#repository-structure)
    - [High Level Architecture Diagram](./high-level-architecture.md#high-level-architecture-diagram)
    - [Architectural Patterns](./high-level-architecture.md#architectural-patterns)
  - [Tech Stack](./tech-stack.md)
    - [Technology Stack Table](./tech-stack.md#technology-stack-table)
  - [Data Models](./data-models.md)
    - [Athlete](./data-models.md#athlete)
    - [RowingSession](./data-models.md#rowingsession)
    - [PerformanceMetric](./data-models.md#performancemetric)
    - [PM5Device (Existing)](./data-models.md#pm5device-existing)
  - [API Specification](./api-specification.md)
    - [CloudKit Native APIs (Primary - MVP)](./api-specification.md#cloudkit-native-apis-primary-mvp)
    - [Backend REST APIs (Phase 2)](./api-specification.md#backend-rest-apis-phase-2)
      - [Authentication](./api-specification.md#authentication)
      - [Sessions](./api-specification.md#sessions)
      - [Teams](./api-specification.md#teams)
      - [Export](./api-specification.md#export)
    - [WebSocket API (Phase 2)](./api-specification.md#websocket-api-phase-2)
      - [Connection](./api-specification.md#connection)
  - [Components](./components.md)
    - [iOS App Components](./components.md#ios-app-components)
      - [PM5Controller (Existing)](./components.md#pm5controller-existing)
      - [CSAFEProtocol (Existing)](./components.md#csafeprotocol-existing)
      - [PM5DataModels (Existing)](./components.md#pm5datamodels-existing)
      - [CloudKit Sync Manager](./components.md#cloudkit-sync-manager)
      - [Backend API Client](./components.md#backend-api-client)
      - [Performance Visualizer](./components.md#performance-visualizer)
      - [Session Recorder](./components.md#session-recorder)
    - [Backend Components (Self-Hosted/Cloud Portable)](./components.md#backend-components-self-hostedcloud-portable)
      - [API Gateway Service](./components.md#api-gateway-service)
      - [Real-Time Processing Service](./components.md#real-time-processing-service)
      - [Database Abstraction Layer](./components.md#database-abstraction-layer)
      - [Storage Abstraction Service](./components.md#storage-abstraction-service)
      - [Coach Dashboard Backend](./components.md#coach-dashboard-backend)
    - [Infrastructure Components](./components.md#infrastructure-components)
      - [Reverse Proxy / Load Balancer](./components.md#reverse-proxy-load-balancer)
    - [Development Infrastructure Components](./components.md#development-infrastructure-components)
      - [GitHub MCP Integration](./components.md#github-mcp-integration)
    - [Component Interaction Diagram](./components.md#component-interaction-diagram)
  - [External APIs](./external-apis.md)
    - [GitHub API](./external-apis.md#github-api)
  - [Core Workflows](./core-workflows.md)
    - [Session Recording Workflow](./core-workflows.md#session-recording-workflow)
    - [Error Recovery Workflow](./core-workflows.md#error-recovery-workflow)
  - [Database Schema](./database-schema.md)
    - [CloudKit Schema (Primary - MVP)](./database-schema.md#cloudkit-schema-primary-mvp)
      - [Athlete Record Type](./database-schema.md#athlete-record-type)
      - [RowingSession Record Type](./database-schema.md#rowingsession-record-type)
      - [PerformanceMetric Record Type](./database-schema.md#performancemetric-record-type)
    - [PostgreSQL Schema (Phase 2 - Backend)](./database-schema.md#postgresql-schema-phase-2-backend)
    - [DynamoDB Schema (Phase 2 - Real-Time Layer)](./database-schema.md#dynamodb-schema-phase-2-real-time-layer)
      - [WebSocketConnections Table](./database-schema.md#websocketconnections-table)
  - [Frontend Architecture](./frontend-architecture.md)
    - [iOS App Architecture (Supporting iOS 15+ and Older Devices)](./frontend-architecture.md#ios-app-architecture-supporting-ios-15-and-older-devices)
      - [Device Support Strategy](./frontend-architecture.md#device-support-strategy)
      - [Component Organization](./frontend-architecture.md#component-organization)
      - [iOS 15 Compatible SwiftUI Implementation](./frontend-architecture.md#ios-15-compatible-swiftui-implementation)
      - [Device Capability Detection](./frontend-architecture.md#device-capability-detection)
      - [Performance Optimization for Older Devices](./frontend-architecture.md#performance-optimization-for-older-devices)
    - [State Management Architecture](./frontend-architecture.md#state-management-architecture)
    - [Coach Dashboard Architecture (Web)](./frontend-architecture.md#coach-dashboard-architecture-web)
      - [Component Organization](./frontend-architecture.md#component-organization)
      - [Routing Architecture](./frontend-architecture.md#routing-architecture)
  - [Development Workflow](./development-workflow.md)
    - [Branch Strategy](./development-workflow.md#branch-strategy)
    - [Git Workflow with GitHub Projects Integration](./development-workflow.md#git-workflow-with-github-projects-integration)
    - [Development Environment Setup](./development-workflow.md#development-environment-setup)
      - [iOS Development](./development-workflow.md#ios-development)
      - [Backend Development (Self-Hosted)](./development-workflow.md#backend-development-self-hosted)
  - [Deployment](./deployment.md)
    - [iOS App Deployment](./deployment.md#ios-app-deployment)
      - [TestFlight (Beta)](./deployment.md#testflight-beta)
    - [Backend Deployment](./deployment.md#backend-deployment)
      - [Self-Hosted Deployment](./deployment.md#self-hosted-deployment)
      - [Cloud Migration Path](./deployment.md#cloud-migration-path)
  - [Security](./security.md)
    - [Authentication & Authorization](./security.md#authentication-authorization)
      - [iOS App Security](./security.md#ios-app-security)
      - [Backend Security](./security.md#backend-security)
    - [Data Protection](./security.md#data-protection)
  - [Testing Strategy](./testing-strategy.md)
    - [iOS Testing (80% Coverage Target)](./testing-strategy.md#ios-testing-80-coverage-target)
      - [Unit Tests](./testing-strategy.md#unit-tests)
      - [Device Compatibility Tests](./testing-strategy.md#device-compatibility-tests)
    - [Backend Testing](./testing-strategy.md#backend-testing)
  - [Monitoring & Observability](./monitoring-observability.md)
    - [Application Monitoring](./monitoring-observability.md#application-monitoring)
      - [iOS Monitoring](./monitoring-observability.md#ios-monitoring)
      - [Backend Monitoring](./monitoring-observability.md#backend-monitoring)
    - [Infrastructure Monitoring](./monitoring-observability.md#infrastructure-monitoring)
  - [Error Handling](./error-handling.md)
    - [iOS Error Handling](./error-handling.md#ios-error-handling)
    - [Backend Error Handling](./error-handling.md#backend-error-handling)
  - [Performance Guidelines](./performance-guidelines.md)
    - [iOS Performance (Device-Aware)](./performance-guidelines.md#ios-performance-device-aware)
    - [Backend Performance](./performance-guidelines.md#backend-performance)
    - [Database Performance](./performance-guidelines.md#database-performance)
  - [Summary](./summary.md)
    - [Device Support Matrix](./summary.md#device-support-matrix)
